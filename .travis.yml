language: node_js
node_js:
  - 'lts/*'
cache:
  yarn: true
env:
  global:
    secure: "ygDiZKjlggxuWkZeOblpi9w9tN92pHCi9juiaK0FlEStyot5NUCBF8HQUIsrBFyPxgE9k0NCnSUYeBGBAqs+483VCD6odvP83Nzt2oJkOL6Rxle1XlCSKEBXcW8wPgsHN8C5SaPE+rbaAZfMlLYtQEFxtI67hwL9WlpOLhTmqItjwxYnn3BOXC7ZqEVWerIjMr9uJ4v+WeKrkjv4qvCCgltGv6DiTXEH368soYDKPOO4AdzU7y9Mr4SXDyv5+uUJnt9qbIL8m/HjLCggbRioygc2NCv0jiY9Y+thIp5JxwMlYtYMO8FMFPcxzMgKpmX+FGe+bGg1UzRBN1csv/siJ3/PEDmDTEu3RlVezAowta5eG1/g38NJ7UBZg/Uc/uW1BWvWSsF4DHIHpDlzyo45LPEh6wR8ANsNevzjyjI2NO3/aYXu9PlQoSNSK8D+f1/ld/AUOFV5i4vBbRhq26Rk8TCcoC08vx8PA1Twnk2ayyB0f9wfGDcSIacjA/azI5wGqXKNMCXsIxn98lCLfx1OqMQJN7TSVFKsQrqEL2jqUg83ZnjNuphbzlb3ILKT7YJ6o8G/o+PPoRvl46s1ljNd+u7GjBq6gdwasohtPbX2EQ/P2Uyo3QHqiBnfdI0UBvR2mGFbwl5E+5V0EK8KEXXes3TH8kycSARcXnwjWTIB4Q8="
    secure: "SkbDIBV5X3gJEZ/Ae4gQ2eQjBZG+yVqeTqx5ehHJVrNlVsUsTIMfjiGiqPj91S3B4/edJM2TGal3rB9AGkaS6lHZb3aBTvuCc3BHKCywHa0wbi6cZJPyD01d7yHySrvWfYlqlrIPEqpB971Azu8iPthjQN2Iyk5iHFoB20U0fNvDHQSpBwd7BLHLEvq9KsXV4ULd72FTKjdjVck4gWtUEd15AZnb3nVf2EhUGspRZqahQgG7oSrTyc5eyYl8KYoCE4xdr21CTio5EnaXDQQJV6iHipnrtXgt312vmfxRz1RIPqpfHs33nn+WSNrW4HmUa+mDR22mkwStTpWu9Cz+5mnnHM0BP6uzLHOjUNHnE/8671ki9ke7cFGfa/tfW9rvRPcEGRdYiKgTxnUYU+LZSagzytRilgQDQMquePs6dvVo2A9Rw5LcilJRYXYV9w0LTvir2piuQIii0VIvJJG6/RF0lQpQc8uPekYZSmQycVNamC2N4r3byKUjmzn6gQH+kBPi/5Z2dOcF0ZK9SAGWk2IHGDjtKTvsTJfDC0JSiXq8Vs1OuwNll0nF0y1z/f56DBWT7tt4mnG+sXXGnivEK1PfpJH+XFfsnpztV1mNUwmaPo1gDAIs5yl092lK/ObjqhkNqFh6Iq4ggy5a5VkP4u9gKMU94r7qclBaTjP67OA="
    secure: "uWPtwG1WFYxAJvTfVWK3IEMp1oo4Nc234uP4RbDzbWAkf2f5H3APmhSH++l2Jb8MOl87uZZV+DYl+kf7lnPVfVfz9EO5+Hysa/SWCBPTnC9gKDTvm3RtBHBAQAKr2pCRiy9Q+mlsQK/kRLCoe+3SHPaFR0o77WcHB+VU6PY7RZJ5BBBWx1ir2pR7/oFcnMbcR250Zjo+zTuMHNsumiZTpr/0fkxC06ceMOHc520dFWTykRyB+RIQ6qn+LovUzu4UpnFhhzbN725e6FRin4eoQL4kocZykddOeOvH8rxDW8G3YeFKJj1lD5D/pEOrmZBvhvSAA9W1Z/U5GGJJkR2GT4HrYrH2gA5DyyygsZFP4/epy+hPfUYiLKAngXAbmk8Zh7w9AS29/ShLC7Uy9XVSDF/Cb+p613kt/tN58GExbUv4JVll8jnLOAPybeKYPaUC8k2CP1hf6pcxMEyEbf5wG0pPrH7pZRQsE6+gBtS9TDuD7cC2+MSaiwmTtRrqbhGWgxQe7a2qtLQBRMnepwTfxn3UTZIb9jUKPx3YZXveMXADZbIgLKX+7uYVHcEH1nfQ5YgZPgqIfkoJvPgz4cRcoJaWWHNnVcZms3RNk2QAHy/h10D304xir5MFw08UxtFiW7ZEDD1G1FElZXVs3yxYMRzsOMnczMDAUrlPWEd1tFs="
before_install:
  - YARN_VERSION=`node -pe "require('./package.json').engines.yarn"`
  - curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version $YARN_VERSION
  - export PATH=$HOME/.yarn/bin:$PATH
  - yarn global add codecov greenkeeper-lockfile
before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build
  - greenkeeper-lockfile-update
script:
  - yarn lint
  - yarn test && codecov
after_script:
  - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT
  - greenkeeper-lockfile-upload
before_deploy:
  - yarn build
deploy:
  provider: pages
  repo: fartts/fartts.github.io
  target-branch: master
  on:
    branch: master
  github_token: $GITHUB_TOKEN
  allow_empty_commit: true
  keep_history: true
  skip_cleanup: true
  local_dir: dist/
